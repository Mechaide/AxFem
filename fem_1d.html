<!DOCTYPE html>
<html lang="en">

<head>
    <!--[NM] HTML configuration-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FEM</title>
</head>
<!--[NM] Call fem.js-->
<script src="fem.js" async></script>

<!--[NM] For Latex-->
<link rel="stylesheet" href="katex.min.css">
<script src="katex.min.js"></script>
<script defer src="auto-render.min.js"></script>

<!--[NM] Prettier-->
<link href="bootstrap.min.css" rel="stylesheet">
<script src="bootstrap.bundle.min.js"></script>
<style>
    .katex {
        font-size: 1em !important;
    }
</style>

<body class="m-4">

    <!--[NM] Title-->
    <legend>Finite Element with 1D - Axial force</legend>
    Gauss Lagrange quadrature calculator with a specific polynomial.
    <div class="mb-3">
        <br>
        <div class="row g-3 align-items-center" id="id_problem"></div>
        <br>
        Write your polynomial, with x as independent variable:
        <div class="row g-3 align-items-center mt-1">
            <!--[NM] Input polynomial-->
            <div class="col-auto">
                <label for="txt_polynomial" id="id_fx" class="col-form-label"></label>
            </div>
            <div class="col-auto">
                <input class="" id="txt_polynomial" type="text" class="form-control" type="text"
                    value="5+3*x+2*x^2-x^3-4*x^4"></input>
            </div>
        </div>
        <!--[NM] Button to calculate-->
        <button class="btn btn-outline-dark mt-4" id="run_fem">Calculate</button>
    </div>

    <!--[NM] Result from calculation-->
    <div class="card card-outline-success mt-3 p-4 bg bg-light">
        <div id="id_math"></div>
    </div>

</body>
<script type="module">

    // [NM] On refresh webpage render Latex.
    katex.render(" \\Large{\\displaystyle{I=\\int_{-1}^{1} f(\\xi) d \\xi}}", id_problem);
    katex.render(" \\Large{f(\\xi) = }", id_fx);

    // [NM] When click the button "Calculate"
    document.getElementById("run_fem").addEventListener("click", calc_gauss);
    function calc_gauss() {
        const f = document.getElementById("txt_polynomial").value; // [NM] Get Polinomial from textbox
        const latex = Ax_gauss_quadrature(f); // [NM] Run function into Ax_FEM.js
        katex.render(latex[0], id_math); // [NM] Publish with Latex math from function in Ax_FEM.js
    }
</script>

</html>